/* ===== Base ===== */
:root{
  --bg:#0f172a;          /* slate-900 */
  --panel:#111827;       /* gray-900 */
  --panel-2:#1f2937;     /* gray-800 */
  --muted:#9ca3af;       /* gray-400 */
  --primary:#3b82f6;     /* blue-500 */
  --primary-600:#2563eb; /* blue-600 */
  --me:#0ea5e9;          /* sky-500 */
  --other:#374151;       /* gray-700 */
  --border:#334155;      /* slate-700 */
  --success:#2e7d32;
  --danger:#ef4444;
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;
  background:var(--bg); color:#e5e7eb;
}

/* ===== Bot√µes e inputs ===== */
.btn{
  background:var(--panel-2); color:#e5e7eb; border:1px solid var(--border);
  padding:.55rem .8rem; border-radius:.6rem; cursor:pointer
}
.btn:hover{filter:brightness(1.05)}
.btn.primary{background:var(--primary); border-color:transparent; color:white}
.btn.primary:hover{background:var(--primary-600)}
.btn.subtle{background:transparent; border-color:var(--border)}
input{
  width:100%; background:var(--panel); color:#e5e7eb; border:1px solid var(--border);
  padding:.65rem .75rem; border-radius:.6rem; outline:none
}
input::placeholder{color:#9aa3b2}

/* ===== Auth ===== */
.auth-body{display:grid; place-items:center; padding:2rem}
.auth-card{
  width:min(520px,92vw); background:var(--panel-2); border:1px solid var(--border);
  border-radius:1rem; padding:2rem; box-shadow:0 10px 30px rgba(0,0,0,.25)
}
.app-title{margin:0 0 1rem}
.form{display:grid; gap:.5rem}
.form .btn{margin-top:.75rem}
.muted{color:var(--muted)}
.tiny{font-size:.8rem}

/* ===== Layout chat ===== */
.chat-container{display:grid; grid-template-columns:320px 1fr; height:100vh}
.sidebar{
  border-right:1px solid var(--border); background:var(--panel-2); display:flex; flex-direction:column;
}
.sidebar-header{
  display:flex; align-items:center; justify-content:space-between; gap:.75rem; padding:1rem; border-bottom:1px solid var(--border)
}
.me-info{display:flex; gap:.75rem; align-items:center}
.avatar{width:36px; height:36px; border-radius:999px; background:var(--panel); display:grid; place-items:center}
.me-name{font-weight:600}

.novo-chat{display:flex; gap:.5rem; padding: .75rem 1rem; border-bottom:1px solid var(--border)}
.chat-list{list-style:none; margin:0; padding:.25rem; overflow:auto}
.chat-list li{
  padding:.65rem .75rem; border-radius:.6rem; cursor:pointer; border:1px solid transparent
}
.chat-list li:hover{background:var(--panel); border-color:var(--border)}

.chat-box{display:flex; flex-direction:column; height:100vh}
.chat-header{
  display:flex; align-items:center; justify-content:space-between; gap:1rem;
  padding: .9rem 1rem; border-bottom:1px solid var(--border); background:var(--panel-2)
}
.chat-title{margin:0}
.header-right{display:flex; align-items:center; gap:.5rem}

.messages{
  flex:1; overflow:auto; padding:1rem; display:flex; flex-direction:column; gap:.5rem;
  background:linear-gradient(180deg, #0f172a 0%, #0b1221 100%);
}
.message{
  max-width:min(78ch, 82%); padding:.6rem .75rem; border-radius:.8rem; position:relative;
  border:1px solid var(--border); line-height:1.35
}
.bg-me{align-self:flex-end; background:rgba(14,165,233,.15); border-color:#0ea5e94a}
.bg-other{align-self:flex-start; background:rgba(55,65,81,.35); border-color:#6b72804a}
.message .meta{font-size:.72rem; opacity:.75; margin-top:.3rem; display:flex; gap:.5rem; justify-content:flex-end}
.message .ticks{font-size:.85em}

.typing{min-height:20px; padding:0 1rem .4rem; color:#cbd5e1; font-size:.85rem}

.chat-input{
  display:flex; gap:.5rem; padding:.75rem; border-top:1px solid var(--border); background:var(--panel-2)
}
.chat-input input{flex:1}

/* presence badge */
.presence{
  display:inline-block; font-size:.72rem; line-height:1; padding:.35rem .5rem;
  border-radius:999px; background:#9e9e9e; color:#fff; text-transform:uppercase
}
.presence.online{background:var(--success)}
.presence.offline{background:#9e9e9e}

/* Responsivo */
@media (max-width: 900px){
  .chat-container{grid-template-columns: 1fr}
  .sidebar{height:50vh}
  .chat-box{height:auto; min-height:50vh}
}
